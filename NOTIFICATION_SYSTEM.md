# ЁЯФФ р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Фр╣Йр╕зр╕в Firebase Cloud Messaging (FCM)

## ЁЯУЛ р╕ар╕▓р╕Юр╕гр╕зр╕бр╕гр╕░р╕Ър╕Ъ

р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Чр╕╡р╣Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣Мр╣Бр╕Ър╕Ър╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕нр╕Ю E-commerce р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Ър╕Ъ Real-time р╕кр╕│р╕лр╕гр╕▒р╕Ъ:
- **р╣Бр╕Кр╕Ч**: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣Ир╕Ир╕▓р╕Бр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕лр╕гр╕╖р╕нр╣Бр╕нр╕Фр╕бр╕┤р╕Щ
- **р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н**: р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓ (pending тЖТ packing тЖТ processing тЖТ shipped тЖТ delivered)
- **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г**: р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕нр╕Фр╕бр╕┤р╕Щ (р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И, р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Бр╕ер╣Йр╕лр╕бр╕Ф, р╕гр╕╡р╕зр╕┤р╕зр╣Гр╕лр╕бр╣И)

## ЁЯФС FCM Configuration

```
Sender ID: 236498123851
VAPID Key: BE5DRXtADIaD0JlnCnienovezvIoM5fKa27pJ5UyFeFbL6O_JWsUgwZdjuAhcK7lhQ6S3WSVHuhY7Q8Jy5004sY
```

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕лр╕бр╣И

### 1. **`lib/services/advanced_notification_service.dart`**
- р╕Ър╕гр╕┤р╕Бр╕▓р╕гр╕лр╕ер╕▒р╕Бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ FCM
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Кр╕Чр╣Бр╕ер╕░р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
- р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г permissions р╣Бр╕ер╕░ FCM tokens

### 2. **`lib/services/order_notification_service.dart`**
- р╕Ър╕гр╕┤р╕Бр╕▓р╕гр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Бр╕▒р╕Ър╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
- р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕кр╕Цр╕▓р╕Щр╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓, р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И, р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Бр╕ер╣Йр╕лр╕бр╕Ф, р╕гр╕╡р╕зр╕┤р╕зр╣Гр╕лр╕бр╣И

### 3. **`lib/pages/admin_notification_management_page.dart`**
- р╕лр╕Щр╣Йр╕▓р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ
- р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ
- р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ

## ЁЯЪА р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б

### ЁЯУ▒ р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Кр╕Ч
```dart
// р╕кр╣Ир╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣И
await AdvancedNotificationService.sendChatNotification(
  toUserId: 'user_id',
  fromUserName: 'р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕кр╣Ир╕З',
  message: 'р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б',
  chatRoomId: 'chat_room_id',
  fromUserImage: 'url_р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю', // р╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
);
```

### ЁЯУж р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
```dart
// р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ
await OrderNotificationService.notifyOrderStatusUpdate(
  orderId: 'order_id',
  customerId: 'customer_id', 
  newStatus: 'shipped',
  productName: 'р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓',
  productImage: 'url_р╕гр╕╣р╕Ыр╕кр╕┤р╕Щр╕Др╣Йр╕▓', // р╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
);
```

### ЁЯЫТ р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕нр╕Фр╕бр╕┤р╕Щ)
```dart
// р╣Бр╕Ир╣Йр╕Зр╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕бр╕╡р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И
await OrderNotificationService.notifyNewOrder(
  orderId: 'order_id',
  customerName: 'р╕Кр╕╖р╣Ир╕нр╕ер╕╣р╕Бр╕Др╣Йр╕▓',
  productName: 'р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓',
  totalAmount: 1999.00,
);
```

## ЁЯОп р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕нр╕Фр╕бр╕┤р╕Щ:
1. **Admin Dashboard** тЖТ **р╕Ир╕▒р╕Фр╕Бр╕▓р╕г Admin** тЖТ **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ**
2. р╕лр╕гр╕╖р╕н **Profile** тЖТ **Debug Login** тЖТ **Test Notifications**

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ:
1. р╣Ар╕Ыр╕┤р╕Фр╣Бр╕нр╕Ю тЖТ **Profile** тЖТ **Debug Login** (р╕Ыр╕╕р╣Ир╕бр╕Фр╣Йр╕▓р╕Щр╕ер╣Ир╕▓р╕З)
2. р╕Др╕ер╕┤р╕Б **Test Notifications** / **Test Chat Notification** / **Test Order Notification**

## ЁЯУК р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

### 1. р╕Бр╕▓р╕гр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ (Initialize)
```dart
// р╣Гр╕Щ main.dart
await AdvancedNotificationService.initialize();
```

### 2. р╕Бр╕▓р╕гр╕Вр╕нр╕кр╕┤р╕Чр╕Шр╕┤р╣М (Permissions)
- Android: р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- iOS: р╕Вр╕нр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- р╕гр╕нр╕Зр╕гр╕▒р╕Ъ sound, badge, alert

### 3. р╕Бр╕▓р╕гр╕гр╕▒р╕Ъ FCM Token
```dart
String? token = AdvancedNotificationService.fcmToken;
```

### 4. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ
- **Foreground**: р╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Гр╕Щ system tray
- **Background**: р╣Бр╕кр╕Фр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Вр╕Фр╕в Firebase
- **Tap Handling**: р╣Ар╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З (р╣Бр╕Кр╕Ч/р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н)

## ЁЯФД р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щ ChatService

р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Бр╕ер╣Йр╕зр╣Гр╕Щ `lib/services/chat_service.dart`:

```dart
// р╕кр╣Ир╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣И
await AdvancedNotificationService.sendChatNotification(
  toUserId: targetUserId,
  fromUserName: senderName,
  message: messageText,
  chatRoomId: chatRoomId,
);
```

## ЁЯОи UI Components

### AdminNotificationManagementPage р╕бр╕╡:
- **FCM Information Card**: р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е configuration
- **Test Buttons**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч
- **Notification History**: р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕ер╣Ир╕▓р╕кр╕╕р╕Ф
- **Status Messages**: р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

## ЁЯФФ р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ

### 1. **р╣Бр╕Кр╕Ч** (`type: "chat"`)
- р╕лр╕▒р╕зр╕Вр╣Йр╕н: "р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣Ир╕Ир╕▓р╕Б [р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕кр╣Ир╕З]"
- р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (р╕Хр╕▒р╕Фр╕Чр╕╡р╣И 50 р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г)
- р╣Др╕нр╕Др╕нр╕Щ: ЁЯТм

### 2. **р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н** (`type: "order_status"`)
- р╕лр╕▒р╕зр╕Вр╣Йр╕н: "[emoji] р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н"
- р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: "[р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓] - [р╕кр╕Цр╕▓р╕Щр╕░]"
- Emoji: тП│ЁЯУжЁЯЪЪтЬИя╕ПтЬЕтЭМ

### 3. **р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И** (`type: "new_order"`)
- р╕лр╕▒р╕зр╕Вр╣Йр╕н: "ЁЯЫТ р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Гр╕лр╕бр╣И!"
- р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: "р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Ир╕▓р╕Б [р╕ер╕╣р╕Бр╕Др╣Йр╕▓]..."

### 4. **р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Бр╕ер╣Йр╕лр╕бр╕Ф** (`type: "low_stock"`)
- р╕лр╕▒р╕зр╕Вр╣Йр╕н: "тЪая╕П р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Бр╕ер╣Йр╕лр╕бр╕Ф"
- р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: "[р╕кр╕┤р╕Щр╕Др╣Йр╕▓] р╣Ар╕лр╕ер╕╖р╕нр╣Ар╕Юр╕╡р╕вр╕З [р╕Ир╕│р╕Щр╕зр╕Щ] р╕Кр╕┤р╣Йр╕Щ"

### 5. **р╕гр╕╡р╕зр╕┤р╕зр╣Гр╕лр╕бр╣И** (`type: "new_review"`)  
- р╕лр╕▒р╕зр╕Вр╣Йр╕н: "тнР р╕гр╕╡р╕зр╕┤р╕зр╣Гр╕лр╕бр╣И!"
- р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓: "[р╕ер╕╣р╕Бр╕Др╣Йр╕▓] р╣Гр╕лр╣Йр╕Др╕░р╣Бр╕Щр╕Щ [р╕кр╕┤р╕Щр╕Др╣Йр╕▓]..."

## ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### DebugLoginPage р╕бр╕╡р╕Ыр╕╕р╣Ир╕бр╕Чр╕Фр╕кр╕нр╕Ъ:
1. **Test Notifications**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
2. **Test Chat Notification**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Кр╕Ч  
3. **Test Order Notification**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н

### AdminNotificationManagementPage р╕бр╕╡:
1. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ**
2. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Кр╕Ч**
3. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н**

## ЁЯУИ р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Бр╕ер╕░р╕Хр╕┤р╕Фр╕Хр╕▓р╕б

### Firestore Collections:
- **`notifications`**: р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- **`users`**: р╣Ар╕Бр╣Зр╕Ъ `fcmToken` р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й

### Console Logs:
```
ЁЯФФ Initializing advanced notification service...
тЬЕ Advanced notification service initialized successfully
ЁЯУд Sending chat notification to user_id
тЬЕ Chat notification sent successfully
ЁЯУ▒ System notification displayed automatically
```

## ЁЯФТ Security & Best Practices

### р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г FCM Tokens:
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х token р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕н refresh
- р╣Ар╕Бр╣Зр╕Ъ token р╣Гр╕Щ Firestore user profile
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ token р╕Бр╣Ир╕нр╕Щр╕кр╣Ир╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ

### р╕Бр╕▓р╕гр╕Ир╕│р╕ер╕нр╕Зр╕гр╕░р╕Ър╕Ъ:
- р╣Гр╕Кр╣Й `_simulateNotification` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ъ
- р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Ир╕гр╕┤р╕Зр╕Др╕зр╕гр╕бр╕╡ backend server р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╣Ир╕З FCM
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Чр╕▒р╣Йр╕З legacy р╣Бр╕ер╕░ advanced notification service

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З

р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Ир╕гр╕┤р╕З (Production) р╕Др╕зр╕г:
1. р╕кр╕гр╣Йр╕▓р╕З **Backend API** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╣Ир╕З FCM р╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╕Ир╕│р╕ер╕нр╕З
2. р╣Гр╕Кр╣Й **Server Key** р╣Бр╕Чр╕Щ VAPID key р╕кр╕│р╕лр╕гр╕▒р╕Ъ HTTP API
3. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ **Notification Channels** р╕кр╕│р╕лр╕гр╕▒р╕Ъ Android
4. р╣Ар╕Юр╕┤р╣Ир╕б **Rich Notifications** (р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю, actions)
5. р╣Гр╕Кр╣Й **Topics** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Ър╕Ъ broadcast

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╣Гр╕Кр╣Йр╕Бр╕▓р╕гр╕Ир╕│р╕ер╕нр╕Зр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Ир╕гр╕┤р╕Зр╕Др╕зр╕гр╕Юр╕▒р╕Тр╕Щр╕▓ backend service р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╣Ир╕З FCM р╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
